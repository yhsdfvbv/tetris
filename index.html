<!doctype html>
<html>
<head>
  <meta charset=utf-8>
  <meta name="viewport" content="initial-scale = 1.0 ,minimum-scale = 1.0 ,maximum-scale = 1.0 ,user-scalable = no ,width = device-width" />
  <title>Tetr.js</title>
  <link rel=stylesheet href=style.css>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-554c83a8661bf358" async="async"></script>
</head>
<body style="background-image: url('bg.jpg'); background-position:center center; background-repeat: no-repeat; background-attachment: fixed">
<!--<canvas id=bg></canvas>-->
<!--<video id=bg src=bg.webm loop autoplay></video>-->

<div class=touchbutton id=touchLeft style=display:none>←</div>
<div class=touchbutton id=touchRight style=display:none>→</div>
<div class=touchbutton id=touchDown style=display:none>↓</div>
<div class=touchbutton id=touchDrop style=display:none>⇊</div>
<div class=touchbutton id=touchHold style=display:none>⇄</div>
<div class=touchbutton id=touchRotRight style=display:none>↷</div>
<div class=touchbutton id=touchRotLeft style=display:none>↶</div>
<div class=touchbutton id=touchRot180 style=display:none>↻</div>
<div class=touchbutton id=touchLayout style=display:none>☝</div>

<div id=content>

  <!-- Canvases -->
  <div id=d>
    <h3>Hold</h3>

    <div id=a>
      <canvas id=hold></canvas> <br />
      <div id=divInp></div>
    </div>

    <table id=stats>
      <tr><th id=score>0</th><th>Score 分</th></tr>
      <tr><td id=line>0</td><th>Line 行</th></tr>
      <tr><td id=piece>0</td><th>Piece 块</th></tr>
      <tr><th id=time>00:00.00</th></tr>
    </table>
  </div>

  <div id=b>
    <canvas id=bgStack></canvas>
    <canvas id=stack></canvas>
    <canvas id=active></canvas>

    <div id=msgdiv>
      <span id=msg></span>
    </div>

    <nav class='menu on'>
      <h1>Tetr.js - Dig v0.51</h1>
      <p>forked from: <span onclick="window.location='http://simon.lc/tetr.js/'"><u>&gt;&gt;simonlc</u></span><br/>
      farter's Dig Mod</p>
      <ul>
        <li><a onclick=init(0)>⚡ Sprint 40行竞速</a></li>
        <li><a onclick=init(1)>⚐ Marathon 马拉松</a></li>
        <!-- <li><a onclick=init(2)>Play Ultra</a></li> -->
        <li><a onclick="init(3,{digOffset:0})">⚠ Dig! 挖掘机</a></li>
        <li><a onclick="init(4)">☕ Dig Race 挖掘练习</a></li>
        <li><a onclick="init(5)">✈ Zen 修仙模式</a></li>
        
        <li><a onclick="menu(6,1)">Replay(α) 回放(测试)</a></li>
        <li><a onclick=menu(2)>✜ Controls 调整按键</a></li>
        <li><a onclick=menu(1)>☑ Settings 调整设定</a></li>
        <li><a onclick="init(3,{digOffset:500})">✶ Dig - 500+</a></li>
        <li><a onclick="init(3,{digOffset:1000})">✹ Dig - 1000+</a></li>
        <li><a onclick="init(3,{digOffset:1500})">✺ Dig - 1500+</a></li>
        <li><a onclick="init(3,{digOffset:2000})">☢ NUKE 核能</a></li>
      </ul>
    </nav>

    <div class=menu>
      <h2>Settings 调整设定</h2>
      <div id=settings>
      </div>
      <div style=clear:both><a class=button onclick=menu(0)>Done 完成</a></div>
    </div>

    <div class=menu>
      <h2>Controls 调整按键</h2>
      <p>Click on the item you want to change, then press any key.<br />
      点击要修改的键位，然后按键。</p>
      <table id=controls>
        <tr> <th>Move ← 左移</th><td id=moveLeft>←</td> </tr>
        <tr> <th>Move → 右移</th><td id=moveRight>→</td> </tr>
        <tr> <th>Triple ← 左三</th><td id=moveLeft3>undefined</td> </tr>
        <tr> <th>Triple → 右三</th><td id=moveRight3>undefined</td> </tr>
        <tr> <th>Move ↓ 软降</th><td id=moveDown>↓</td> </tr>
        <tr> <th>Drop ⇊ 硬降</th><td id=hardDrop>Space</td> </tr>
        <tr> <th>Hold ⇄ 暂存</th><td id=holdPiece>C</td> </tr>
        <tr> <th>Spin ↷ 右转</th><td id=rotRight>X</td> </tr>
        <tr> <th>Spin ↶ 左转</th><td id=rotLeft>Z</td> </tr>
        <tr> <th>Spin ↻ 半周转</th><td id=rot180>Shift</td> </tr>
        <tr> <th>Retry 重来</th><td id=retry>R</td> </tr>
        <tr> <th>Pause 暂停</th><td id=pause>Esc</td> </tr>
      </table>
      <div style=clear:both><a class=button onclick=menu(0)>Done 完成</a></div>
    </div>

    <nav id=go class=menu>
      <ul>
        <li><a onclick=init(gametype,gameparams)>Retry 再来</a></li>
        <li>
          <a onclick="init('replay')" style="width: 46%;">Replay 回放 </a>
          <a onclick="showreplaydata()" style="width: 7%;">★</a>
        </li>
        <li><a onclick="menu(5,1)">Rankings 排行</a></li>
        <li><a onclick=menu(0)>Back 回菜单</a></li>
      </ul>
    </nav>

    <nav id=pause class=menu>
      <ul>
        <li><a onclick=unpause()>Return 继续</a></li>
        <li><a onclick=init(gametype,gameparams)>Retry 重来</a></li>
        <li><a onclick=menu(0)>Back 回菜单</a></li>
      </ul>
    </nav>
    
    <div id=leader class=menu>
      <h2>Rankings 排行</h2>
      <div id=leaderboard></div>
      <div style=clear:both><a class=button onclick="menu(void 0,-1)">Back 返回</a></div>
    </div>
    
    <nav id=replay class=menu>
      <h2>Replay 回放数据</h2>
      <p>Ctrl+C 复制 / Ctrl+V 粘贴</p>
      <textarea id=replaydata spellcheck=false></textarea>
      <ul>
        <li><a onclick="tryreplaydata()">Watch 观看</a></li>
        <li><a onclick="menu(void 0,-1)">Back 返回</a></li>
      </ul>
    </nav>
    
  </div>

  <div id=c>
    <h3>Next</h3>
    <canvas id=preview></canvas>
  </div>

</div>

<canvas id=sprite></canvas>
<script src=bigmin.js></script>
<script src=tetris.js></script>
<script src=piece.js></script>
<script src=stack.js></script>
<script src=hold.js></script>
<script src=preview.js></script>
<script src=menu.js></script>
<script src=bg.js></script>
<script src=ranking.js></script>
<script src=compress.js></script>

<!--
<script>_gaq=[['_setAccount','UA-30472693-1'],['_trackPageview']];(function(d){var g=d.createElement('script'),s=d.scripts[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)})(document)</script>
-->
</body>
</html>